{"abi":[{"type":"function","name":"CLEAR_WEI","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"REQUIRED_CONSECUTIVE","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"TRIGGER_WEI","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"WATCHED","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"collect","inputs":[],"outputs":[{"name":"","type":"bytes","internalType":"bytes"}],"stateMutability":"view"},{"type":"function","name":"shouldRespond","inputs":[{"name":"data","type":"bytes[]","internalType":"bytes[]"}],"outputs":[{"name":"","type":"bool","internalType":"bool"},{"name":"","type":"bytes","internalType":"bytes"}],"stateMutability":"pure"}],"bytecode":{"object":"0x6080604052348015600e575f5ffd5b506106ec8061001c5f395ff3fe608060405234801561000f575f5ffd5b5060043610610060575f3560e01c8063310e98e71461006457806344e6e4ce146100825780636cc61442146100b3578063bc7b6419146100d1578063e5225381146100ef578063edd0d1931461010d575b5f5ffd5b61006c61012b565b6040516100799190610355565b60405180910390f35b61009c600480360381019061009791906103d7565b610130565b6040516100aa9291906104ac565b60405180910390f35b6100bb6102b6565b6040516100c89190610355565b60405180910390f35b6100d96102c2565b6040516100e69190610355565b60405180910390f35b6100f76102ce565b60405161010491906104da565b60405180910390f35b610115610325565b6040516101229190610539565b60405180910390f35b600381565b5f60605f8484905003610156575f60405180602001604052805f815250915091506102af565b5f84845f81811061016a57610169610552565b5b905060200281019061017c919061058b565b8101906101899190610617565b9050670713e24c437300008111156101b5575f60405180602001604052805f81525092509250506102af565b6706ccd46763f10000811015610299575f600190505f600190505b86869050811080156101e25750600382105b15610259575f8787838181106101fb576101fa610552565b5b905060200281019061020d919061058b565b81019061021a9190610617565b90506706ccd46763f1000081101561023f5782806102379061066f565b935050610245565b50610259565b5080806102519061066f565b9150506101d0565b506003811061027e57600160405180602001604052805f8152509350935050506102af565b5f60405180602001604052805f8152509350935050506102af565b5f60405180602001604052805f81525092509250505b9250929050565b670713e24c4373000081565b6706ccd46763f1000081565b60605f73e52ca26d0db661791158549068483c379b20974073ffffffffffffffffffffffffffffffffffffffff16319050806040516020016103109190610355565b60405160208183030381529060405291505090565b73e52ca26d0db661791158549068483c379b20974081565b5f819050919050565b61034f8161033d565b82525050565b5f6020820190506103685f830184610346565b92915050565b5f5ffd5b5f5ffd5b5f5ffd5b5f5ffd5b5f5ffd5b5f5f83601f84011261039757610396610376565b5b8235905067ffffffffffffffff8111156103b4576103b361037a565b5b6020830191508360208202830111156103d0576103cf61037e565b5b9250929050565b5f5f602083850312156103ed576103ec61036e565b5b5f83013567ffffffffffffffff81111561040a57610409610372565b5b61041685828601610382565b92509250509250929050565b5f8115159050919050565b61043681610422565b82525050565b5f81519050919050565b5f82825260208201905092915050565b8281835e5f83830152505050565b5f601f19601f8301169050919050565b5f61047e8261043c565b6104888185610446565b9350610498818560208601610456565b6104a181610464565b840191505092915050565b5f6040820190506104bf5f83018561042d565b81810360208301526104d18184610474565b90509392505050565b5f6020820190508181035f8301526104f28184610474565b905092915050565b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f610523826104fa565b9050919050565b61053381610519565b82525050565b5f60208201905061054c5f83018461052a565b92915050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52603260045260245ffd5b5f5ffd5b5f5ffd5b5f5ffd5b5f5f833560016020038436030381126105a7576105a661057f565b5b80840192508235915067ffffffffffffffff8211156105c9576105c8610583565b5b6020830192506001820236038313156105e5576105e4610587565b5b509250929050565b6105f68161033d565b8114610600575f5ffd5b50565b5f81359050610611816105ed565b92915050565b5f6020828403121561062c5761062b61036e565b5b5f61063984828501610603565b91505092915050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52601160045260245ffd5b5f6106798261033d565b91507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff82036106ab576106aa610642565b5b60018201905091905056fea26469706673582212201ec2ce630aaa3840ecc5025fe2f71cf9343c70df0639ff9823e996690aada3a464736f6c634300081e0033","sourceMap":"579:2530:0:-:0;;;;;;;;;;;;;;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x608060405234801561000f575f5ffd5b5060043610610060575f3560e01c8063310e98e71461006457806344e6e4ce146100825780636cc61442146100b3578063bc7b6419146100d1578063e5225381146100ef578063edd0d1931461010d575b5f5ffd5b61006c61012b565b6040516100799190610355565b60405180910390f35b61009c600480360381019061009791906103d7565b610130565b6040516100aa9291906104ac565b60405180910390f35b6100bb6102b6565b6040516100c89190610355565b60405180910390f35b6100d96102c2565b6040516100e69190610355565b60405180910390f35b6100f76102ce565b60405161010491906104da565b60405180910390f35b610115610325565b6040516101229190610539565b60405180910390f35b600381565b5f60605f8484905003610156575f60405180602001604052805f815250915091506102af565b5f84845f81811061016a57610169610552565b5b905060200281019061017c919061058b565b8101906101899190610617565b9050670713e24c437300008111156101b5575f60405180602001604052805f81525092509250506102af565b6706ccd46763f10000811015610299575f600190505f600190505b86869050811080156101e25750600382105b15610259575f8787838181106101fb576101fa610552565b5b905060200281019061020d919061058b565b81019061021a9190610617565b90506706ccd46763f1000081101561023f5782806102379061066f565b935050610245565b50610259565b5080806102519061066f565b9150506101d0565b506003811061027e57600160405180602001604052805f8152509350935050506102af565b5f60405180602001604052805f8152509350935050506102af565b5f60405180602001604052805f81525092509250505b9250929050565b670713e24c4373000081565b6706ccd46763f1000081565b60605f73e52ca26d0db661791158549068483c379b20974073ffffffffffffffffffffffffffffffffffffffff16319050806040516020016103109190610355565b60405160208183030381529060405291505090565b73e52ca26d0db661791158549068483c379b20974081565b5f819050919050565b61034f8161033d565b82525050565b5f6020820190506103685f830184610346565b92915050565b5f5ffd5b5f5ffd5b5f5ffd5b5f5ffd5b5f5ffd5b5f5f83601f84011261039757610396610376565b5b8235905067ffffffffffffffff8111156103b4576103b361037a565b5b6020830191508360208202830111156103d0576103cf61037e565b5b9250929050565b5f5f602083850312156103ed576103ec61036e565b5b5f83013567ffffffffffffffff81111561040a57610409610372565b5b61041685828601610382565b92509250509250929050565b5f8115159050919050565b61043681610422565b82525050565b5f81519050919050565b5f82825260208201905092915050565b8281835e5f83830152505050565b5f601f19601f8301169050919050565b5f61047e8261043c565b6104888185610446565b9350610498818560208601610456565b6104a181610464565b840191505092915050565b5f6040820190506104bf5f83018561042d565b81810360208301526104d18184610474565b90509392505050565b5f6020820190508181035f8301526104f28184610474565b905092915050565b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f610523826104fa565b9050919050565b61053381610519565b82525050565b5f60208201905061054c5f83018461052a565b92915050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52603260045260245ffd5b5f5ffd5b5f5ffd5b5f5ffd5b5f5f833560016020038436030381126105a7576105a661057f565b5b80840192508235915067ffffffffffffffff8211156105c9576105c8610583565b5b6020830192506001820236038313156105e5576105e4610587565b5b509250929050565b6105f68161033d565b8114610600575f5ffd5b50565b5f81359050610611816105ed565b92915050565b5f6020828403121561062c5761062b61036e565b5b5f61063984828501610603565b91505092915050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52601160045260245ffd5b5f6106798261033d565b91507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff82036106ab576106aa610642565b5b60018201905091905056fea26469706673582212201ec2ce630aaa3840ecc5025fe2f71cf9343c70df0639ff9823e996690aada3a464736f6c634300081e0033","sourceMap":"579:2530:0:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1186:48;;;:::i;:::-;;;;;;;:::i;:::-;;;;;;;;1644:1463;;;;;;;;;;;;;:::i;:::-;;:::i;:::-;;;;;;;;:::i;:::-;;;;;;;;927:56;;;:::i;:::-;;;;;;;:::i;:::-;;;;;;;;831;;;:::i;:::-;;;;;;;:::i;:::-;;;;;;;;1289:143;;;:::i;:::-;;;;;;;:::i;:::-;;;;;;;;673:76;;;:::i;:::-;;;;;;;:::i;:::-;;;;;;;;1186:48;1233:1;1186:48;:::o;1644:1463::-;1722:4;1728:12;1821:1;1806:4;;:11;;:16;1802:72;;1846:5;1853:9;;;;;;;;;;;;1838:25;;;;;;1802:72;1917:14;1946:4;;1951:1;1946:7;;;;;;;:::i;:::-;;;;;;;;;;;;;:::i;:::-;1935:30;;;;;;;:::i;:::-;1916:49;;965:18;2057:6;:18;2053:74;;;2099:5;2106:9;;;;;;;;;;;;2091:25;;;;;;;2053:74;869:18;2226:6;:20;2222:763;;;2262:19;2284:1;2262:23;;2389:9;2401:1;2389:13;;2384:301;2408:4;;:11;;2404:1;:15;:53;;;;;1233:1;2423:11;:34;2404:53;2384:301;;;2483:9;2507:4;;2512:1;2507:7;;;;;;;:::i;:::-;;;;;;;;;;;;;:::i;:::-;2496:30;;;;;;;:::i;:::-;2482:44;;869:18;2548:1;:15;2544:127;;;2587:13;;;;;:::i;:::-;;;;2544:127;;;2647:5;;;2544:127;2464:221;2459:3;;;;;:::i;:::-;;;;2384:301;;;;1233:1;2702:11;:35;2698:183;;2850:4;2856:9;;;;;;;;;;;;2842:24;;;;;;;;2698:183;2957:5;2964:9;;;;;;;;;;;;2949:25;;;;;;;;2222:763;3083:5;3090:9;;;;;;;;;;;;3075:25;;;;;1644:1463;;;;;;:::o;927:56::-;965:18;927:56;:::o;831:::-;869:18;831:56;:::o;1289:143::-;1340:12;1364:11;707:42;1378:15;;;1364:29;;1421:3;1410:15;;;;;;;;:::i;:::-;;;;;;;;;;;;;1403:22;;;1289:143;:::o;673:76::-;707:42;673:76;:::o;7:77:1:-;44:7;73:5;62:16;;7:77;;;:::o;90:118::-;177:24;195:5;177:24;:::i;:::-;172:3;165:37;90:118;;:::o;214:222::-;307:4;345:2;334:9;330:18;322:26;;358:71;426:1;415:9;411:17;402:6;358:71;:::i;:::-;214:222;;;;:::o;523:117::-;632:1;629;622:12;646:117;755:1;752;745:12;769:117;878:1;875;868:12;892:117;1001:1;998;991:12;1015:117;1124:1;1121;1114:12;1153:579;1237:8;1247:6;1297:3;1290:4;1282:6;1278:17;1274:27;1264:122;;1305:79;;:::i;:::-;1264:122;1418:6;1405:20;1395:30;;1448:18;1440:6;1437:30;1434:117;;;1470:79;;:::i;:::-;1434:117;1584:4;1576:6;1572:17;1560:29;;1638:3;1630:4;1622:6;1618:17;1608:8;1604:32;1601:41;1598:128;;;1645:79;;:::i;:::-;1598:128;1153:579;;;;;:::o;1738:581::-;1835:6;1843;1892:2;1880:9;1871:7;1867:23;1863:32;1860:119;;;1898:79;;:::i;:::-;1860:119;2046:1;2035:9;2031:17;2018:31;2076:18;2068:6;2065:30;2062:117;;;2098:79;;:::i;:::-;2062:117;2211:91;2294:7;2285:6;2274:9;2270:22;2211:91;:::i;:::-;2193:109;;;;1989:323;1738:581;;;;;:::o;2325:90::-;2359:7;2402:5;2395:13;2388:21;2377:32;;2325:90;;;:::o;2421:109::-;2502:21;2517:5;2502:21;:::i;:::-;2497:3;2490:34;2421:109;;:::o;2536:98::-;2587:6;2621:5;2615:12;2605:22;;2536:98;;;:::o;2640:168::-;2723:11;2757:6;2752:3;2745:19;2797:4;2792:3;2788:14;2773:29;;2640:168;;;;:::o;2814:139::-;2903:6;2898:3;2893;2887:23;2944:1;2935:6;2930:3;2926:16;2919:27;2814:139;;;:::o;2959:102::-;3000:6;3051:2;3047:7;3042:2;3035:5;3031:14;3027:28;3017:38;;2959:102;;;:::o;3067:373::-;3153:3;3181:38;3213:5;3181:38;:::i;:::-;3235:70;3298:6;3293:3;3235:70;:::i;:::-;3228:77;;3314:65;3372:6;3367:3;3360:4;3353:5;3349:16;3314:65;:::i;:::-;3404:29;3426:6;3404:29;:::i;:::-;3399:3;3395:39;3388:46;;3157:283;3067:373;;;;:::o;3446:407::-;3579:4;3617:2;3606:9;3602:18;3594:26;;3630:65;3692:1;3681:9;3677:17;3668:6;3630:65;:::i;:::-;3742:9;3736:4;3732:20;3727:2;3716:9;3712:18;3705:48;3770:76;3841:4;3832:6;3770:76;:::i;:::-;3762:84;;3446:407;;;;;:::o;3859:309::-;3970:4;4008:2;3997:9;3993:18;3985:26;;4057:9;4051:4;4047:20;4043:1;4032:9;4028:17;4021:47;4085:76;4156:4;4147:6;4085:76;:::i;:::-;4077:84;;3859:309;;;;:::o;4174:126::-;4211:7;4251:42;4244:5;4240:54;4229:65;;4174:126;;;:::o;4306:96::-;4343:7;4372:24;4390:5;4372:24;:::i;:::-;4361:35;;4306:96;;;:::o;4408:118::-;4495:24;4513:5;4495:24;:::i;:::-;4490:3;4483:37;4408:118;;:::o;4532:222::-;4625:4;4663:2;4652:9;4648:18;4640:26;;4676:71;4744:1;4733:9;4729:17;4720:6;4676:71;:::i;:::-;4532:222;;;;:::o;4760:180::-;4808:77;4805:1;4798:88;4905:4;4902:1;4895:15;4929:4;4926:1;4919:15;4946:117;5055:1;5052;5045:12;5069:117;5178:1;5175;5168:12;5192:117;5301:1;5298;5291:12;5315:724;5392:4;5398:6;5454:11;5441:25;5554:1;5548:4;5544:12;5533:8;5517:14;5513:29;5509:48;5489:18;5485:73;5475:168;;5562:79;;:::i;:::-;5475:168;5674:18;5664:8;5660:33;5652:41;;5726:4;5713:18;5703:28;;5754:18;5746:6;5743:30;5740:117;;;5776:79;;:::i;:::-;5740:117;5884:2;5878:4;5874:13;5866:21;;5941:4;5933:6;5929:17;5913:14;5909:38;5903:4;5899:49;5896:136;;;5951:79;;:::i;:::-;5896:136;5405:634;5315:724;;;;;:::o;6045:122::-;6118:24;6136:5;6118:24;:::i;:::-;6111:5;6108:35;6098:63;;6157:1;6154;6147:12;6098:63;6045:122;:::o;6173:139::-;6219:5;6257:6;6244:20;6235:29;;6273:33;6300:5;6273:33;:::i;:::-;6173:139;;;;:::o;6318:329::-;6377:6;6426:2;6414:9;6405:7;6401:23;6397:32;6394:119;;;6432:79;;:::i;:::-;6394:119;6552:1;6577:53;6622:7;6613:6;6602:9;6598:22;6577:53;:::i;:::-;6567:63;;6523:117;6318:329;;;;:::o;6653:180::-;6701:77;6698:1;6691:88;6798:4;6795:1;6788:15;6822:4;6819:1;6812:15;6839:233;6878:3;6901:24;6919:5;6901:24;:::i;:::-;6892:33;;6947:66;6940:5;6937:77;6934:103;;7017:18;;:::i;:::-;6934:103;7064:1;7057:5;7053:13;7046:20;;6839:233;;;:::o","linkReferences":{}},"methodIdentifiers":{"CLEAR_WEI()":"6cc61442","REQUIRED_CONSECUTIVE()":"310e98e7","TRIGGER_WEI()":"bc7b6419","WATCHED()":"edd0d193","collect()":"e5225381","shouldRespond(bytes[])":"44e6e4ce"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.30+commit.73712a01\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[],\"name\":\"CLEAR_WEI\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"REQUIRED_CONSECUTIVE\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"TRIGGER_WEI\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"WATCHED\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"collect\",\"outputs\":[{\"internalType\":\"bytes\",\"name\":\"\",\"type\":\"bytes\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes[]\",\"name\":\"data\",\"type\":\"bytes[]\"}],\"name\":\"shouldRespond\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"},{\"internalType\":\"bytes\",\"name\":\"\",\"type\":\"bytes\"}],\"stateMutability\":\"pure\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"collect()\":{\"notice\":\"Collect only the current balance (lean)\"},\"shouldRespond(bytes[])\":{\"notice\":\"shouldRespond data[0] is most recent sample. data may include up to block_sample_size entries. Return (true, bytes(\\\"\\\")) to match response_function = \\\"respond()\\\".\"}},\"notice\":\"WalletDrainTrap Fixes Instructor's points:  - collect() only returns the ETH balance (lean)  - shouldRespond() returns bytes(\\\"\\\") when response_function is respond()  - Adds hysteresis (trigger / clear band)  - Uses recent-history (data[]) to require N consecutive below-threshold samples\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/WalletDrainTrap.sol\":\"WalletDrainTrap\"},\"evmVersion\":\"prague\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":false,\"runs\":200},\"remappings\":[]},\"sources\":{\"src/WalletDrainTrap.sol\":{\"keccak256\":\"0xe163146eeb088a80fa48a8c62c0f29967f8bb6296e8804b71b4e61552c0a93c7\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://19f151310923a977753843fabbe9cd451e8607eb297bf25fcc4b631ea6fe4ffc\",\"dweb:/ipfs/QmenguauKhycdw47GSaicVzwYoR2wAj7tZGurGYePmNEZU\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.30+commit.73712a01"},"language":"Solidity","output":{"abi":[{"inputs":[],"stateMutability":"view","type":"function","name":"CLEAR_WEI","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"REQUIRED_CONSECUTIVE","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"TRIGGER_WEI","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"WATCHED","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"collect","outputs":[{"internalType":"bytes","name":"","type":"bytes"}]},{"inputs":[{"internalType":"bytes[]","name":"data","type":"bytes[]"}],"stateMutability":"pure","type":"function","name":"shouldRespond","outputs":[{"internalType":"bool","name":"","type":"bool"},{"internalType":"bytes","name":"","type":"bytes"}]}],"devdoc":{"kind":"dev","methods":{},"version":1},"userdoc":{"kind":"user","methods":{"collect()":{"notice":"Collect only the current balance (lean)"},"shouldRespond(bytes[])":{"notice":"shouldRespond data[0] is most recent sample. data may include up to block_sample_size entries. Return (true, bytes(\"\")) to match response_function = \"respond()\"."}},"version":1}},"settings":{"remappings":[],"optimizer":{"enabled":false,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/WalletDrainTrap.sol":"WalletDrainTrap"},"evmVersion":"prague","libraries":{}},"sources":{"src/WalletDrainTrap.sol":{"keccak256":"0xe163146eeb088a80fa48a8c62c0f29967f8bb6296e8804b71b4e61552c0a93c7","urls":["bzz-raw://19f151310923a977753843fabbe9cd451e8607eb297bf25fcc4b631ea6fe4ffc","dweb:/ipfs/QmenguauKhycdw47GSaicVzwYoR2wAj7tZGurGYePmNEZU"],"license":"MIT"}},"version":1},"id":0}